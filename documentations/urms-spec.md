## ğŸ“‹ Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°: Unified Request Management System (URMS) - Open Source Edition

### ğŸ¯ Project ID: URMS-OS-v1

### ğŸ“… Version: 1.0

### ğŸ·ï¸ Status: In Development

### ğŸ“œ License: Apache 2.0 / MIT (to be decided)

### ğŸŒŸ Model: qwen3-4B

---

## ğŸ“– Executive Summary

**URMS-OS** - Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ open-source ÑƒĞ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ·Ğ°ÑĞ²ĞºĞ°Ğ¼Ğ¸. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ½Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸ÑÑ… Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒÑ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸.

## ğŸ¯ Primary Objectives

### Core Value Propositions

1. 100% Open Source - Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
2. Unified Inbox - Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ² ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞµ
3. Self-Hosted Friendly - Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ SaaS ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
4. AI-Powered Intelligence - Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ open-source Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
5. Vendor Lock-in Free - Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼Ğ¸ Ğ±ĞµĞ· Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

## ğŸ—ï¸ Architectural Foundation

### Technology Stack (Open Source Only)

| Layer | Technology | Purpose |
| --- | --- | --- |
| Backend | Go (Gin/Fiber) | Core API, business logic |
| Frontend | Vue 3 + TypeScript + Pinia | User interface |
| Database | PostgreSQL + Redis | Primary storage + caching |
| Search | ManticoreSearch 13.13.0+ | Full-text + vector search |
| AI/ML | Python + FastAPI + qwen3-4B | Classification & NLP |
| Message Queue | Redis Streams | Async processing |
| Email | SMTP/IMAP + MTA (Postfix) | Email processing |

### Key Domains & Entities

```go
// CORE DOMAINS
Domain: TicketManagement
  - Ticket (core entity)
  - Message (communication)
  - Thread (conversation grouping)

Domain: CustomerManagement  
  - Customer
  - ContactChannel
  - ProjectMembership

Domain: IntegrationLayer
  - ChannelAdapter (email, telegram, web, api)
  - WebhookHandler
  - SyncService

Domain: IntelligenceLayer
  - ClassifierService (qwen3-4B)
  - VectorSearchService (Manticore)
  - AnalyticsEngine
```

## ğŸ”„ Business Processes Flow

### 1. Request Intake Process

```
Incoming Message â†’ Channel Adapter â†’ Validation â†’ AI Classification (qwen3-4B) â†’ 
Ticket Creation â†’ Unified Inbox â†’ Operator Assignment
```

### 2. Communication Process

```
Operator Reply â†’ Message Processing â†’ Channel-Specific Delivery â†’
Customer Response â†’ Thread Update â†’ Status Sync
```

### 3. Intelligence Process

```
Text Processing â†’ Vector Embeddings â†’ Semantic Search (Manticore) â†’
Similar Ticket Matching â†’ Knowledge Base Linking
```

## ğŸ“Š Core Features Matrix

### Phase 1: Foundation

- Unified Inbox UI
- **Email Channel (SMTP/IMAP + Postfix)**
- Basic Ticket Management
- Customer Profiles
- PostgreSQL Schema

### Phase 2: Intelligence

- ManticoreSearch Integration (Vector + Full-text)
- AI Classification Service (qwen3-4B)
- Advanced Filtering & Semantic Search
- Git Integration

### Phase 3: Multi-Channel

- Telegram Bot
- Web Forms API
- Application Logs Ingestion
- REST API Gateway

### Phase 4: Analytics & Optimization

- Dashboard & Reporting
- Knowledge Base Integration
- Performance Analytics
- Automated Workflows

## ğŸ”Œ Integration Specifications (Open Source)

### Email Channel (Priority 1) - Open Source Approach

**Pattern**: Direct SMTP/IMAP + Optional MTA (Postfix)  
**Architecture**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Email Server  â”‚    â”‚   URMS Email     â”‚    â”‚   Ticket Chat   â”‚
â”‚(Postfix/Dovecot)â”‚â—„â”€â”€â–¶â”‚   Gateway        â”‚â—„â”€â”€â–¶â”‚   Interface     â”‚
â”‚  or IMAP Server â”‚    â”‚                  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ â”‚  IMAP Poller â”‚ â”‚
                       â”‚ â”‚  + Parser    â”‚ â”‚
                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                       â”‚ â”‚  SMTP Sender â”‚ â”‚
                       â”‚ â”‚  + Templates â”‚ â”‚
                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                       â”‚ â”‚  Thread      â”‚ â”‚
                       â”‚ â”‚  Manager     â”‚ â”‚
                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Implementation Options:**

1. **IMAP Polling** - Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ñ‡Ñ‚Ğ¾Ğ²Ñ‹Ñ… ÑÑ‰Ğ¸ĞºĞ¾Ğ²
2. **MDA (Mail Delivery Agent)** - Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Postfix Ñ‡ĞµÑ€ĞµĞ· pipe
3. **LMTP** - Local Mail Transfer Protocol Ğ´Ğ»Ñ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸

### ManticoreSearch Integration

**Capabilities:**

- Full-text search Ñ Ğ¼Ğ¾Ñ€Ñ„Ğ¾Ğ»Ğ¾Ğ³Ğ¸ĞµĞ¹
- **Vector search** Ğ´Ğ»Ñ semantic matching
- Real-time indexing
- SQL-like query language

**Use Cases:**

- ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… Ğ·Ğ°ÑĞ²Ğ¾Ğº Ğ¿Ğ¾ semantic similarity
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ vector embeddings
- ĞŸĞ¾Ğ¸ÑĞº Ğ² Ğ±Ğ°Ğ·Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ Ğ¿Ğ¾ ÑĞ¼Ñ‹ÑĞ»Ğ¾Ğ²Ğ¾Ğ¼Ñƒ ÑÑ…Ğ¾Ğ´ÑÑ‚Ğ²Ñƒ

### AI Services (qwen3-4B)

**Model:** qwen3-4B - Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ²ĞµÑ€ÑĞ¸Ñ Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸  
**Deployment:**

- Local inference Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ (GGML/GGUF)
- GPU acceleration Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸
- Batch processing Ğ´Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸

**Applications:**

- ĞšĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ·Ğ°ÑĞ²Ğ¾Ğº
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ‚ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²-Ğ·Ğ°Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾Ğº

## ğŸ¨ UI/UX Principles

### Design Tenets

1. **Unified Inbox First** - Ğ²ÑĞµ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğ² ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¼ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞµ
2. **Channel Transparency** - Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ°Ğ½Ğ°Ğ»Ğ°Ğ¼Ğ¸
3. **Self-Service Configuration** - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ°Ğ½Ğ°Ğ»Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· UI
4. **Progressive Disclosure** - ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ¿Ğ¾ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

## ğŸ“ˆ Success Metrics

### Technical Excellence

- Zero paid service dependencies
- Comprehensive documentation coverage
- Easy local development setup
- Modular architecture for extensions

### Community Growth

- Contributor-friendly codebase
- Clear extension points documentation
- Demo deployment availability
- Active community support channels

## ğŸš€ Development Philosophy

### Open Source Principles

1. **No Vendor Lock-in** - Ğ²ÑĞµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹
2. **Transparent Architecture** - Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğµ Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
3. **Community Driven** - Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ roadmap
4. **Enterprise Ready** - Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ¸ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### Deployment Options

1. **Docker Compose** - Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
2. **Kubernetes Helm** - Ğ´Ğ»Ñ production Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğ¹
3. **Bare Metal** - Ñ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ÑĞ¼Ğ¸

## ğŸ”§ Email Implementation Strategy

### Phase 1A: Basic IMAP/SMTP

```go
package email

type IMAPEmailHandler struct {
    config   IMAPConfig
    poller   *IMAPPoller
    parser   *EmailParser
}

type SMTPService struct {
    client   *smtp.Client
    templates *EmailTemplates
}

// Polling-based approach Ğ´Ğ»Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°
```

### Phase 1B: Advanced MTA Integration

```bash
# Postfix integration Ñ‡ĞµÑ€ĞµĞ· pipe
# /etc/postfix/master.cf
urms    unix  -       n       n       -       -       pipe
  flags=FR user=urms argv=/opt/urms/bin/email-handler ${sender} ${recipient}
```

### Phase 1C: Webmail Bridge (Optional)

- Roundcube integration
- Ğ¸Ğ»Ğ¸ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ webmail Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

---

## ğŸ”„ How to Use This Specification

For AI Context: "Reference URMS-OS Project Spec v1.0 - [Section Name]"  
For Development: "Implementing according to URMS-OS Spec - [Feature]"  
For Open Source:"Following open-source principles of URMS-OS..."  

## ğŸ“ Next Steps Tracking

### Current Phase: Foundation Development

- Project scaffolding (Go + Vue)
- Database schema implementation
- Basic Ticket CRUD API
- Unified Inbox UI skeleton

### Next Phase: Email Channel (Open Source)

- IMAP/SMTP client implementation
- Email parsing and normalization
- Thread management system
- Attachment handling

---

**Document Maintainer**: Project Architect  
**License**: Open Source (To be finalized)  
**Last Updated**: ${current_date}  
